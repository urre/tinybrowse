<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tinybrowse</title>

    <meta property="og:url" content="https://tinybrowse.vercel.app/" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Tinybrowse" />
    <meta
      property="og:image"
      content="https://res.cloudinary.com/urre/image/upload/w_1200/v1712858916/ffpes9yefsy55nlyte5x.jpg"
    />
    <meta
      property="og:image:alt"
      content="A simple tool to view your site in a tiny computer or phone."
    />
    <meta
      property="og:description"
      content="A simple tool to view your site in a tiny computer or phone."
    />
    <meta property="og:site_name" content="Site Tinybrowse" />
    <meta property="og:locale" content="en_US" />
    <meta property="article:author" content="Urban Sanden" />

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@urre" />
    <meta name="twitter:creator" content="@urre" />
    <meta name="twitter:url" content="https://tinybrowse.vercel.app/" />
    <meta name="twitter:title" content="Tinybrowse" />
    <meta
      name="twitter:description"
      content="A simple tool to view your site in a tiny computer or phone."
    />
    <meta
      name="twitter:image"
      content="https://res.cloudinary.com/urre/image/upload/w_1200/v1712858916/ffpes9yefsy55nlyte5x.jpg"
    />

    <meta
      name="twitter:image:alt"
      content="A simple tool to view your site in a tiny computer or phone.
        computer. "
    />

    <link rel="stylesheet" href="main.css" />
  </head>

  <body>
    <header>
      <input type="text" placeholder="A URL here" value="" autofocus />
    </header>

    <div id="macbook-pro" class="container grid-xl text-center">
      <div class="device device-macbook-pro device-spacegray">
        <div class="dynamic-island"></div>
        <div class="device-frame">
          <iframe
            title="Website"
            sandbox="allow-scripts allow-same-origin"
            class="device-content"
            src=""
          ></iframe>
        </div>
        <div class="device-power"></div>
      </div>
    </div>

    <footer>
      <input type="range" min="450" max="1200" value="1600" />
      <p>by <a href="https://x.com/urre">@urre</a></p>
    </footer>

    <script>
      const defaultUrl = "https://example.com"
      const inputUrl = document.querySelector("input[type='text']")
      const myIframe = document.querySelector("iframe")
      document.addEventListener("DOMContentLoaded", function () {
        function getUrlParameter(name) {
          const params = new URLSearchParams(window.location.search)
          return params.get(name)
        }

        const urlParamValue = getUrlParameter("url") || defaultUrl
        inputUrl.value = urlParamValue
        myIframe.src = urlParamValue
      })

      document
        .querySelector("input[type='text']")
        .addEventListener("input", function () {
          document.querySelector("header").classList.add("notip")
          const url = inputUrl.value.trim()
          myIframe.src = url
        })

      document
        .querySelector("input[type='range']")
        .addEventListener("input", function () {
          var value = this.value
          document.documentElement.style.setProperty("--width", value + "px")
          console.log(value)
          if (value <= 1000) {
            document.documentElement.style.setProperty("--power-visibility", 0)
            document.documentElement.style.setProperty(
              "--dynamic-island-visibility",
              1
            )
            document.documentElement.style.setProperty(
              "--device-frame-border-radius",
              "57px"
            )
          } else {
            document.documentElement.style.setProperty("--power-visibility", 1)
            document.documentElement.style.setProperty(
              "--dynamic-island-visibility",
              0
            )
            document.documentElement.style.setProperty(
              "--device-frame-border-radius",
              "24px"
            )
          }
        })
    </script>
  </body>
</html>
